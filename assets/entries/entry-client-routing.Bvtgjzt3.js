const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/entries/src_pages_index.page.DehjWtvV.js","assets/chunks/chunk-D_zvdyIk.js","assets/entries/renderer_default.page.client.CsaiE38o.js"])))=>i.map(i=>d[i]);
import{j as Kt,k as G,m as E,n as a,c as v,p as Q,q as st,r as p,s as Mt,d as m,t as ye,u as Z,v as W,w as H,x as at,y as b,o as h,z as B,A as Yt,B as qt,C as lt,b as Jt,D as ut,E as Y,F as q,G as Xt,H as Qt,I as Zt,_ as Pe,g as en,J as ct,K as tn,L as nn,M as J,N as ft,O as rn,P as A,Q as on,R as sn,l as ue,S as be,a as we,T as an,i as re,h as ln,U as un,V as cn}from"../chunks/chunk-DxOgtCUf.js";function fn(){Kt(),G()}function L(e){return typeof e!="object"||e===null?!1:Object.getPrototypeOf(e)===null?!0:e.constructor.name==="Object"}function dn(){var r,o,i,s;const e=!!((o=(r=window.__REACT_DEVTOOLS_GLOBAL_HOOK__)==null?void 0:r.renderers)!=null&&o.size),t=!!((s=(i=window.__REACT_DEVTOOLS_GLOBAL_HOOK__)==null?void 0:i.rendererInterfaces)!=null&&s.size),n=!!window.__vite_plugin_react_preamble_installed__;return e||t||n}function He(e,t){return!E(e)||!E(t)?!1:e.message===t.message}function $(e){window.location.href=e}function gn(e){return new Promise(t=>setTimeout(t,e))}function hn(e,t){let n=!1;return()=>{n||(n=!0,setTimeout(()=>{n=!1,e()},t))}}function dt(e){window.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()})}function pn(e){window.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&e()})}function oe(e,t){a(e===t)}function mn(){let e;return{promise:new Promise(n=>e=n),resolve:e}}const ie={};function gt(e,t=100,n=5){const r=new Date;let o=ie[e]??(ie[e]=Le(r));r.getTime()-o.start.getTime()>n*1e3&&(o=ie[e]=Le(r)),o.count++;const s=`[Infinite Loop] ${e} called ${o.count} times within ${n} seconds`;o.count>t&&a(!1,s),!o.warned&&o.count>t*.5&&(v(!1,s,{onlyOnce:!1}),o.warned=!0)}function Le(e){return{count:0,start:e}}fn();function Ne(e){return"["+e.map(t=>"'"+t+"'").join(", ")+"]"}function se(e,t){const n=Object.getOwnPropertyDescriptor(e,t);return!!n&&!("value"in n)&&!!n.get}function yn(e){return typeof e=="object"&&e!==null&&"then"in e&&Q(e.then)}function Pn(e){return[null,void 0].includes(e)?String(e):["boolean","number","string"].includes(typeof e)?JSON.stringify(e):null}function bn(e){return e.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&")}function z(e,t,n){const r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(e,t,{...r,enumerable:n})}function ae(e,t,{get:n,...r}){Object.defineProperty(e,t,{...r,get:n})}async function wn(e,t){const r=st(e,t).filter(i=>i.fileType===".page.server");return await Promise.all(r.map(async i=>{i.exportNames||(a(i.loadExportNames,t),await i.loadExportNames())})),{hasOnBeforeRenderServerSideOnlyHook:r.some(({exportNames:i})=>(a(i),i.includes("onBeforeRender")))}}function Sn(e,t,n){const{value:r,definedAtData:o}=e;return n&&Cn(r,n,t,o),e}function Cn(e,t,n,r){a(e!==null);const o=typeof e;if(o===t)return;const i=Pn(e),s=i!==null?`value ${p.cyan(i)}`:`type ${p.cyan(o)}`,c=`${Mt("Config",n,r)} has an invalid ${s}: it should be a ${p.cyan(t)} instead`;m(!1,c)}function N(e,t,n){const r=e.configValues[t];return r?Sn(r,t,n):null}const je=["urlPathname","urlParsed"],Rn=["Page","pageExports","exports"];function vn(e){[...Rn,...je].forEach(n=>{n in e&&(je.includes(n)?(a(n.startsWith("url")),v(!1,`pageContext.${n} is already available in the browser when using Client Routing; adding '${n}' to passToClient has no effect`,{onlyOnce:!0})):v(!1,`pageContext.${n} is a built-in that cannot be overriden; adding '${n}' to passToClient has no effect`,{onlyOnce:!0}),delete e[n])})}const _n="/";function xn(e,t,n){const{pathnameOriginal:r,searchOriginal:o,hashOriginal:i}=ye(e,_n);e.startsWith("/")&&a(e===`${r}${o||""}${i||""}`,{url:e});const s=r.endsWith("/");let l;return l=r+(s?"":"/")+"index",a(l),l=l+t,`${l}${o||""}${i||""}`}const On=".pageContext.json";function kn(e){return xn(e,On)}function ht(e,{hookName:t,hookFilePath:n}){if(e==null)return;a(!t.endsWith(")"));const r=`The ${p.cyan("pageContext")} object provided by the ${t}() hook defined by ${n}`;m(E(e),`${r} should be an object (but it's ${p.cyan(`typeof pageContext === ${JSON.stringify(typeof e)}`)} instead)`),m(!("_objectCreatedByVike"in e),`${r} shouldn't be the whole ${p.cyan("pageContext")} object, see https://vike.dev/pageContext-manipulation#do-not-return-entire-pagecontext`),v(!("pageId"in e),`${r} sets ${p.cyan("pageContext.pageId")} which means that Vike's routing is overriden. This is an experimental feature: make sure to contact a vike maintainer before using this.`,{onlyOnce:!0}),m(!("is404"in e),`${r} sets ${p.cyan("pageContext.is404")} which is forbidden, use ${p.cyan("throw render()")} instead, see https://vike.dev/render`)}function Fn(e,t,n){a(!n.endsWith(" "));const r=[],o=Object.keys(e);for(const i of o)t.includes(i)||r.push(i);m(r.length===0,[n,"returned an object with following unknown keys:",Ne(r)+".","Only following keys are allowed:",Ne(t)+"."].join(" "))}function Tn(e,t){if(e==null)return;const n=`The onBeforeRender() hook defined by ${t}`;m(L(e),`${n} should return a plain JavaScript object, ${p.cyan("undefined")}, or ${p.cyan("null")}`),Fn(e,["pageContext"],n),e.pageContext&&ht(e.pageContext,{hookName:"onBeforeRender",hookFilePath:t})}function En(e,t){if(!L(e))return!1;for(const n of Object.keys(e))if(!t.includes(n))return!1;return!0}function $n(e,t,n=r=>r){if(a(e.length>0),e.length===1)return n(e[0]);const r=e.slice(0,e.length-1),o=e[e.length-1];return r.map(n).join(", ")+`, ${t} `+n(o)}Z()&&G();const pt="The guard() hook defined by";async function In(e,t){let n;if(e._pageFilesAll.length>0?(a(e._pageConfigs.length===0),n=An(e.pageId,e._pageFilesAll)):n=W(e,"guard"),!n)return;const r=n.hookFn;let o=e;const i=t(e);i&&(o=i);const s=await H(()=>r(o),n,e);m(s===void 0,`${pt} ${n.hookFilePath} returns a value, but guard() shouldn't return any value`)}function An(e,t){const n=t.find(c=>c.pageId===e&&c.fileType===".page.route");if(!n)return null;const{filePath:r,fileExports:o}=n;a(o);const i=o.guard;if(!i)return null;const s=r,l=at("guard");return m(Q(i),`${pt} ${s} should be a function`),{hookFn:i,hookName:"guard",hookFilePath:s,hookTimeout:l}}function Hn(e){const t=new Error("AbortRender");return h(t,{_pageContextAbort:e,[mt]:!0}),t}const mt="_isAbortError";function Be(e){return typeof e=="object"&&e!==null&&mt in e}function Ln(e){return e._urlRewrite||e._urlRedirect||e.abortStatusCode?(a(b(e,"_abortCall","string")),!0):!1}function Nn(e){jn(e);const t={_urlRewrite:null};return e.forEach(n=>{Object.assign(t,n)}),t}function jn(e){const t=[];e.forEach(n=>{const r=n._urlRewrite;{const o=t.indexOf(r);if(o!==-1){const i=[...t.slice(o),r].map(s=>`render('${s}')`).join(" => ");m(!1,`Infinite loop of render() calls: ${i}`)}}t.push(r)})}function Bn(e,t){const n=[e>0&&p.cyan("throw render('/some-url')"),t>0&&p.cyan("throw redirect('/some-url')")].filter(Boolean).join(" and ");m(e+t<=7,`Maximum chain length of 7 ${n} exceeded. Did you define an infinite loop of ${n}?`)}const Dn="_pageContextInitIsPassedToClient",yt="_isServerSideError",Pt=B("client-routing-runtime/getPageContextFromHooks.ts",{});function Wn(){const e=Jt();return m(!("urlOriginal"in e),"Adding 'urlOriginal' to passToClient is forbidden"),St(e),h(e,{_hasPageContextFromServer:!0}),e}async function Un(e){h(e,{_hasPageContextFromClient:!1});for(const t of["data","onBeforeRender"])if(wt(t,e)){const n=await bt(t,e);a(!("urlOriginal"in n)),Object.assign(e,n)}return e}async function ce(e,t){const n={_hasPageContextFromServer:!1};if(!t&&await Gn(e)){const r=await zn(e);if("is404ServerSideRouted"in r)return{is404ServerSideRouted:!0};const{pageContextFromServer:o}=r;n._hasPageContextFromServer=!0,a(!(yt in o)),a(!("serverSideError"in o)),h(n,o)}return{pageContextFromServerHooks:n}}async function De(e,t){h(e,{_hasPageContextFromClient:!1});for(const r of["guard","data","onBeforeRender"])if(r==="guard")!t&&!e._hasPageContextFromServer&&await In(e,o=>ut(o,!0));else if(a(r==="data"||r==="onBeforeRender"),wt(r,e)||!e._hasPageContextFromServer){const o=await bt(r,e);a(!("urlOriginal"in o)),Object.assign(e,o)}return e}async function bt(e,t){const n=W(t,e);if(!n)return{};const r=ut(t,!0),o=await H(()=>n.hookFn(r),n,t),i={};if(e==="onBeforeRender"){Tn(o,n.hookFilePath);const s=o==null?void 0:o.pageContext;s&&(h(i,{_hasPageContextFromClient:!0}),h(i,s))}else{a(e==="data");const s={data:o};o&&h(i,{_hasPageContextFromClient:!0}),h(i,s)}return i}function Vn(e){e[Dn]&&(Pt.pageContextInitIsPassedToClient=!0)}async function Gn(e){return!!Pt.pageContextInitIsPassedToClient||await We("data",e)||await We("onBeforeRender",e)}async function We(e,t){var n;if(t._pageConfigs.length>0){const r=lt(t.pageId,t._pageConfigs),o=(n=N(r,`${e}Env`))==null?void 0:n.value;if(o===null)return!1;a(E(o));const{client:i,server:s}=o;return a(i===!0||i===void 0),a(s===!0||s===void 0),a(i||s),!!s&&!i}else{if(e==="data")return!1;a(e==="onBeforeRender");const{hasOnBeforeRenderServerSideOnlyHook:r}=await wn(t._pageFilesAll,t.pageId);return r}}function wt(e,t){var n;if(t._pageConfigs.length>0){const r=lt(t.pageId,t._pageConfigs),o=((n=N(r,`${e}Env`))==null?void 0:n.value)??{};return a(E(o)),!!o.client&&!o.server}else return!1}async function zn(e){const t=kn(e._urlRewrite??e.urlOriginal),n=await fetch(t);{const i=n.headers.get("content-type"),s="application/json",l=i&&i.includes(s);if(!l&&n.status===404)return $(e.urlOriginal),{is404ServerSideRouted:!0};m(l,`Wrong Content-Type for ${t}: it should be ${s} but it's ${i} instead. Make sure to properly use pageContext.httpResponse.headers, see https://vike.dev/renderPage`)}const r=await n.text(),o=Yt(r);if(a(E(o)),Ln(o))throw Hn(o);if("serverSideError"in o||yt in o)throw qt("pageContext couldn't be fetched because an error occurred on the server-side");return a(b(o,"pageId","string")),St(o),{pageContextFromServer:o}}function St(e){vn(e)}function Kn(e){a(typeof e.urlOriginal=="string"),_t(e);const t={};return ae(t,"urlPathname",{get:Rt,enumerable:!0,configurable:!0}),ae(t,"url",{get:Mn,enumerable:!1,configurable:!0}),ae(t,"urlParsed",{get:Yn,enumerable:!0,configurable:!0}),t}function Ct(e){const t=s=>a(n&&typeof n=="string",{src:s,urlResolved:n});let n,r;e.urlLogical?(n=e.urlLogical,r=!1,t(1)):e._urlRewrite?(n=e._urlRewrite,r=!1,t(2)):(n=e.urlOriginal,r=!0,t(3)),t(4);let o=e._urlHandler;o||(o=s=>s),n=o(n);const i=r?e._baseServer:"/";return ye(n,i)}function Rt(){const{pathname:e}=Ct(this),t=e;return a(t.startsWith("/")),t}function Mn(){return v(!1,"`pageContext.url` is outdated. Use `pageContext.urlPathname`, `pageContext.urlParsed`, or `pageContext.urlOriginal` instead. (See https://vike.dev/migration/0.4.23 for more information.)",{onlyOnce:!0,showStackTrace:!0}),Rt.call(this)}function Yn(){const{isBaseMissing:e,...t}=Ct(this),n=Z(),r=i=>{v(n,`pageContext.urlParsed.${i} isn't available on the server-side (HTTP requests don't include the URL hash)`,{onlyOnce:!0,showStackTrace:!0})},o={...t,get hash(){return r("hash"),t.hash},get hashOriginal(){return r("hashOriginal"),t.hashOriginal},get hashString(){return v(!1,"pageContext.urlParsed.hashString has been renamed to pageContext.urlParsed.hashOriginal",{onlyOnce:!0,showStackTrace:!0}),r("hashString"),t.hashOriginal},get searchString(){return v(!1,"pageContext.urlParsed.searchString has been renamed to pageContext.urlParsed.searchOriginal",{onlyOnce:!0,showStackTrace:!0}),t.searchOriginal}};return z(o,"hashString",!1),z(o,"searchString",!1),n||(z(o,"hash",!1),z(o,"hashOriginal",!1)),o}function vt(e){a(typeof e.urlOriginal=="string"),a(typeof e.urlPathname=="string"),a(L(e.urlParsed)),a(e.urlPathname===e.urlParsed.pathname),_t(e)}function _t(e){"urlPathname"in e?(a(typeof e.urlPathname=="string"),a(se(e,"urlPathname")),a(se(e,"urlParsed")),a(se(e,"url"))):(a(!("urlParsed"in e)),a(!("url"in e)))}function qn(e,t){const r=t.filter(({filesystemRoot:i})=>e.startsWith(i)).sort(Y(({filesystemRoot:i})=>i.length))[0];let o;if(r){const{filesystemRoot:i,urlRoot:s}=r,l={pageId:e,filesystemRoot:i,urlRoot:s};a(s.startsWith("/")&&e.startsWith("/")&&i.startsWith("/"),l),a(e.startsWith(i),l),i!=="/"?(a(!i.endsWith("/"),l),o=q(e,i.length,0)):o=e,a(o.startsWith("/"),l),o=s+(s.endsWith("/")?"":"/")+q(o,1,0)}else o=e;return a(o.startsWith("/")),o=o.split("/").filter(i=>i!=="pages"&&i!=="src"&&i!=="index").join("/"),a(!o.includes(".page.")),a(!o.endsWith(".")),o.endsWith("/index")&&(o=q(o,0,-6)),o===""&&(o="/"),a(o.startsWith("/")),a(!o.endsWith("/")||o==="/"),o}async function Jn(e,t,n){vt(t);let r=e(t);if(xt(r,`The Route Function ${n}`),r=await r,r===!1)return null;if(r===!0&&(r={}),m(L(r),`The Route Function ${n} should return a boolean or a plain JavaScript object (but it's ${p.cyan(`typeof result === ${JSON.stringify(typeof r)}`)} instead)`),"match"in r){const{match:s}=r;if(m(typeof s=="boolean",`The ${p.cyan("match")} value returned by the Route Function ${n} should be a boolean.`),!s)return null}let o=null;"precedence"in r&&(o=r.precedence,m(typeof o=="number",`The ${p.cyan("precedence")} value returned by the Route Function ${n} should be a number.`)),Ot(r,`The ${p.cyan("routeParams")} object returned by the Route Function ${n} should`);const i=r.routeParams||{};return m(!("pageContext"in r),`Providing ${p.cyan("pageContext")} in Route Functions is prohibited, see https://vike.dev/route-function#cannot-provide-pagecontext`),a(L(i)),Object.keys(r).forEach(s=>{m(s==="match"||s==="routeParams"||s==="precedence",`The Route Function ${n} returned an object with an unknown property ${p.cyan(s)} (the known properties are ${p.cyan("match")}, ${p.cyan("routeParams")}, and ${p.cyan("precedence")})`)}),{precedence:o,routeParams:i}}function xt(e,t){v(!yn(e),`${t} returned a promise, but asynchronous routing is deprecated and will be removed in the next major release, see https://vike.dev/route-function#async`,{onlyOnce:!0})}function Ue(){const e=p.cyan("iKnowThePerformanceRisksOfAsyncRouteFunctions");v(!1,`${e} is deprecated and will be removed in the next major release`,{onlyOnce:!0})}function Ot(e,t){a(t.endsWith(" should")),b(e,"routeParams")&&(a(t.endsWith(" should")),m(b(e,"routeParams","string{}"),`${t} be an object holding string values.`))}async function Xn(e,t,n,r){await Promise.all(e.filter(l=>l.fileType===".page.route").map(l=>{var c;return(c=l.loadFile)==null?void 0:c.call(l)}));const{onBeforeRouteHook:o,filesystemRoots:i}=Zn(e,t,n);return{pageRoutes:Qn(i,e,t,r),onBeforeRouteHook:o}}function Qn(e,t,n,r){const o=[];if(n.length>0){a(e===null);const i=!0;n.filter(s=>!s.isErrorPage).forEach(s=>{const l=s.pageId;let c=null;{const w="route",g=N(s,w);if(g){const f=g.value;a(g.definedAtData);const _=Qt(g.definedAtData,w);typeof f=="string"?c={pageId:l,comesFromV1PageConfig:i,routeString:f,routeDefinedAtString:_,routeType:"STRING"}:(a(Q(f)),N(s,"iKnowThePerformanceRisksOfAsyncRouteFunctions","boolean")&&Ue(),c={pageId:l,comesFromV1PageConfig:i,routeFunction:f,routeDefinedAtString:_,routeType:"FUNCTION"})}}if(!c){const{routeFilesystem:w}=s;a(w);const{routeString:g,definedBy:f}=w;a(w.routeString.startsWith("/")),c={pageId:l,routeFilesystemDefinedBy:f,comesFromV1PageConfig:i,routeString:g,routeDefinedAtString:null,routeType:"FILESYSTEM"}}a(c),o.push(c)})}if(n.length===0){a(e);const i=!1;r.filter(s=>!Zt(s)).forEach(s=>{const l=t.find(c=>c.pageId===s&&c.fileType===".page.route");if(!l||!("default"in l.fileExports)){const c=qn(s,e);a(c.startsWith("/")),a(!c.endsWith("/")||c==="/"),o.push({pageId:s,comesFromV1PageConfig:i,routeString:c,routeDefinedAtString:null,routeFilesystemDefinedBy:`${s}.page.*`,routeType:"FILESYSTEM"})}else{const{filePath:c,fileExports:w}=l;if(a(w.default),b(w,"default","string")){const g=w.default;m(g.startsWith("/"),`A Route String should start with a leading slash '/' but ${c} has \`export default '${g}'\`. Make sure to \`export default '/${g}'\` instead.`),o.push({pageId:s,comesFromV1PageConfig:i,routeString:g,routeDefinedAtString:c,routeType:"STRING"});return}if(b(w,"default","function")){const g=w.default;"iKnowThePerformanceRisksOfAsyncRouteFunctions"in w&&Ue(),o.push({pageId:s,comesFromV1PageConfig:i,routeFunction:g,routeDefinedAtString:c,routeType:"FUNCTION"});return}m(!1,`The default export of ${c} should be a string or a function.`)}})}return o}function Zn(e,t,n){if(t.length>0)return{onBeforeRouteHook:Xt(n,"onBeforeRoute"),filesystemRoots:null};let r=null;const o=[];return e.filter(i=>i.fileType===".page.route"&&i.isDefaultPageFile).forEach(({filePath:i,fileExports:s})=>{if(a(s),"onBeforeRoute"in s){m(b(s,"onBeforeRoute","function"),`\`export { onBeforeRoute }\` of ${i} should be a function.`);const{onBeforeRoute:l}=s,c="onBeforeRoute";r={hookFilePath:i,hookFn:l,hookName:c,hookTimeout:at(c)}}"filesystemRoutingRoot"in s&&(m(b(s,"filesystemRoutingRoot","string"),`\`export { filesystemRoutingRoot }\` of ${i} should be a string.`),m(b(s,"filesystemRoutingRoot","string"),`\`export { filesystemRoutingRoot }\` of ${i} is \`'${s.filesystemRoutingRoot}'\` but it should start with a leading slash \`/\`.`),o.push({filesystemRoot:er(i),urlRoot:s.filesystemRoutingRoot}))}),{onBeforeRouteHook:r,filesystemRoots:o}}function er(e){a(e.startsWith("/")),a(!e.endsWith("/"));const t=e.split("/"),n=q(t,0,-1).join("/")||"/";return a(n.startsWith("/")),a(!n.endsWith("/")||n==="/"),n}function kt(){const e="/";return a(tr(e)),e}function tr(e){return e.startsWith("/")}const nr=["Page"],rr=Object.freeze(Object.defineProperty({__proto__:null,exportNames:nr},Symbol.toStringTag,{value:"Module"})),or=["render"],ir=Object.freeze(Object.defineProperty({__proto__:null,exportNames:or},Symbol.toStringTag,{value:"Module"})),sr=["render"],ar=Object.freeze(Object.defineProperty({__proto__:null,exportNames:sr},Symbol.toStringTag,{value:"Module"})),Se={},Ft={},lr={},ee={},ur=[],Tt={},cr=[],fr={configValuesSerialized:{}},dr=Object.assign({"/src/pages/index.page.tsx":()=>Pe(()=>import("./src_pages_index.page.DehjWtvV.js"),__vite__mapDeps([0,1]))}),gr={...dr};Se[".page"]=gr;const hr=Object.assign({"/src/pages/index.page.tsx":rr}),pr={...hr};ee[".page"]=pr;const mr=Object.assign({"/renderer/_default.page.server.tsx":ir}),yr={...mr};ee[".page.server"]=yr;const Pr=Object.assign({}),br={...Pr};Ft[".page.route"]=br;const wr=Object.assign({"/renderer/_default.page.client.tsx":()=>Pe(()=>import("./renderer_default.page.client.CsaiE38o.js"),__vite__mapDeps([2,1]))}),Sr={...wr};Se[".page.client"]=Sr;const Cr=Object.assign({"/renderer/_default.page.client.tsx":ar}),Rr={...Cr};ee[".page.client"]=Rr;const vr=Object.assign({"/renderer/_default.page.server.tsx":()=>Pe(()=>import("./renderer_default.page.server.extractAssets.l0sNRNKZ.js"),[])}),_r={...vr};Tt[".page.server"]=_r;const xr=Object.freeze(Object.defineProperty({__proto__:null,neverLoaded:Tt,pageConfigGlobalSerialized:fr,pageConfigsSerialized:cr,pageFilesEager:Ft,pageFilesExportNamesEager:ee,pageFilesExportNamesLazy:lr,pageFilesLazy:Se,pageFilesList:ur},Symbol.toStringTag,{value:"Module"})),{pageFilesAll:Ve,allPageIds:Ge,pageConfigs:ze,pageConfigGlobal:Ke}=en(xr);async function Et(e){const{pageRoutes:t,onBeforeRouteHook:n}=await Xn(Ve,ze,Ke,Ge),r=kt();a(ct(r));const o={urlOriginal:e,_objectCreatedByVike:!0,_urlHandler:null,_urlRewrite:null,_baseServer:r,_pageFilesAll:Ve,_pageConfigs:ze,_pageConfigGlobal:Ke,_allPageIds:Ge,_pageRoutes:t,_onBeforeRouteHook:n,_isPageContextObject:!0},i=Kn(o);return h(o,i),o}function Ce(e){const t=e.getAttribute("href");return t===null||!nn(t)||t===""||tn(t)||Fr(t)||kr(e)||!Er(t)||!Or(e)}function Or(e){if($r()){const n=e.getAttribute("data-vike-link");return n!==null&&n!=="false"}else return!0}function kr(e){const t=e.getAttribute("target"),n=e.getAttribute("rel");return t==="_blank"||t==="_external"||n==="external"||e.hasAttribute("download")}function Fr(e){return!!(e.startsWith("#")||e.includes("#")&&J(e,{withoutHash:!0})===J(window.location.href,{withoutHash:!0}))}function Tr(e){return e.startsWith("#")?e===window.location.hash:J(e)===J(window.location.href)}function Er(e){const t=kt();a(ct(t));const{isBaseMissing:n}=ye(e,t);return!n}function $r(){return!!window._disableAutomaticLinkInterception}function U(e){return e.fileType===".css"?[]:e.exportNames?e.exportNames:(a(e.fileExports,e.filePath),Object.keys(e.fileExports))}function Ir({pageFilesClientSide:e,pageFilesServerSide:t,pageId:n}){return{isHtmlOnly:r(),isClientRouting:i()};function r(){return t.some(l=>l.pageId===n&&l.fileType===".page")?(o(),!1):!(!t.some(l=>l.pageId===n&&l.fileType===".page.server")||e.some(l=>l.pageId===n&&l.fileType===".page.client"&&U(l).includes("render")))}function o(){const s=e.some(l=>U(l).includes("render"));m(s,["No client-side `render()` hook found.","See https://vike.dev/render-modes for more information.",["Loaded client-side page files (none of them `export { render }`):",...e.map((l,c)=>` (${c+1}): ${l.filePath}`)].join(`
`)].join(" "))}function i(){return e.some(l=>U(l).includes("clientRouting"))}}function Ar({pageFilesClientSide:e,pageFilesServerSide:t,isHtmlOnly:n,isClientRouting:r}){let o=[];const i=t.filter(l=>!e.includes(l)),s=[];if(s.push(...e.map(l=>({id:l.filePath,onlyAssets:!1,eagerlyImported:!1}))),s.push(...i.map(l=>({id:l.filePath,onlyAssets:!0,eagerlyImported:!1}))),n)o=e.map(l=>l.filePath);else{const l=Hr(r);s.push({id:l,onlyAssets:!1,eagerlyImported:!1}),o=[l]}return{clientEntries:o,clientDependencies:s}}function Hr(e){return e?"@@vike/dist/esm/client/client-routing-runtime/entry.js":"@@vike/dist/esm/client/server-routing-runtime/entry.js"}function Lr(e,t){let n=ft(e,t);const r=st(e,t),{isHtmlOnly:o,isClientRouting:i}=Ir({pageFilesClientSide:n,pageFilesServerSide:r,pageId:t});o&&(n=n.filter(c=>c.isEnv("CLIENT_ONLY")&&!U(c).includes("render")),n=jr(n));const{clientEntries:s,clientDependencies:l}=Ar({pageFilesClientSide:n,pageFilesServerSide:r,isHtmlOnly:o,isClientRouting:i});return{isHtmlOnly:o,isClientRouting:i,clientEntries:s,clientDependencies:l,pageFilesClientSide:n,pageFilesServerSide:r}}async function Nr(e,t,{sharedPageFilesAlreadyLoaded:n}){const r=ft(e,t);await Promise.all(r.map(async o=>{var i;a(o.isEnv("CLIENT_ONLY")||o.isEnv("CLIENT_AND_SERVER")),await((i=o.loadExportNames)==null?void 0:i.call(o))}))}function jr(e){const t=[];for(const n of e)if(t.push(n),U(n).includes("overrideDefaultPages"))break;return t}function Br(e,t,n){var r,o;if(e){const i=((r=N(e,"clientRouting","boolean"))==null?void 0:r.value)??!1;return{isClientRuntimeLoaded:((o=N(e,"isClientRuntimeLoaded","boolean"))==null?void 0:o.value)??!1,isClientRouting:i}}else{const{isHtmlOnly:i,isClientRouting:s}=Lr(t,n);return{isClientRuntimeLoaded:!i,isClientRouting:s}}}async function fe(e,t){await Nr(t._pageFilesAll,e,{sharedPageFilesAlreadyLoaded:!1});const n=rn(t._pageConfigs,e),{isClientRuntimeLoaded:r,isClientRouting:o}=Br(n,t._pageFilesAll,e);return r&&o}const $t="@",de=":";function Dr(e,t="Invalid"){let n=`${t} Route String ${I(e)}`;m(e!=="",`${n} (empty string): set it to ${I("/")} instead`),m(["/","*"].includes(e[0]),`${n}: it should start with ${I("/")} or ${I("*")}`),m(!e.includes("**"),`${n}: set it to ${I(e.split("**").join("*"))} instead`)}function ge(e,t){Dr(e);const n=Re(e),r=n.map(f=>f.param?"[^/]+":f.glob?".*":bn(f.static)).map(f=>`(${f})`).join(""),o=new RegExp(`^${r}/?$`),i=t.match(o);if(!i)return null;const s={},[l,...c]=i;let w=0;const g=n.filter(f=>f.glob).length>1;return n.forEach((f,_)=>{let O=c[_];if(f.param&&(s[f.param]=O),f.glob){const D=`*${g?++w:""}`;s[D]=O}}),{routeParams:s}}function Re(e){const t=[],n=o=>{const i=t[t.length-1];i!=null&&i.static?i.static+=o:t.push({static:o})},r=e.split("/");return r.forEach((o,i)=>{i!==0&&n("/"),Ur(o)?(v(!o.startsWith(de),`Outdated Route String ${I(e)}, use ${I(e.split(de).join($t))} instead`,{onlyOnce:!0}),t.push({param:o.slice(1)})):o==="*"&&i===r.length-1&&e!=="*"&&e!=="/*"?t.push({glob:!0}):o.split("*").forEach((s,l)=>{l!==0&&t.push({glob:!0}),s!==""&&n(s)})}),t}function Wr(e){const t=[];return Re(e).forEach(r=>{r.param&&t.push(r.param)}),t}function K(e){const t=Re(e),n=l=>(l==null?void 0:l.split("/").filter(Boolean).length)||0;let r=0;for(const l of t){if(!l.static)break;r+=n(l.static)}const o=t.map(l=>n(l.static)).reduce((l,c)=>l+c,0),i=t.filter(l=>l.param).length,s=t.filter(l=>l.glob).length;return{numberOfStaticPartsBeginning:r,numberOfStaticParts:o,numberOfParams:i,numberOfGlobs:s}}function Ur(e){return e.startsWith($t)||e.startsWith(de)}function Me(e){const n=ge(e,e);return a(n),Object.keys(n.routeParams).length===0}function I(e){return Z()?`'${e}'`:(e===""&&(e="''"),p.cyan(e))}function Vr(e){e.sort(Gr).sort(A(t=>t.routeType==="FUNCTION"&&!!t.precedence&&t.precedence<0)).sort(A(t=>t.routeType==="STRING"&&Me(t.routeString)===!1)).sort(A(t=>t.routeType==="FUNCTION"&&!t.precedence)).sort(A(t=>t.routeType==="STRING"&&Me(t.routeString)===!0)).sort(A(t=>t.routeType==="FILESYSTEM")).sort(A(t=>t.routeType==="FUNCTION"&&!!t.precedence&&t.precedence>0))}function Gr(e,t){{const n=e.precedence??0,r=t.precedence??0;if(n!==r)return n>r?-1:1}if(!t.routeString||!e.routeString)return 0;{const r=Y(o=>K(o).numberOfStaticPartsBeginning)(e.routeString,t.routeString);if(r!==0)return r}{const r=Y(o=>K(o).numberOfStaticParts)(e.routeString,t.routeString);if(r!==0)return r}{const r=on(o=>K(o).numberOfGlobs)(e.routeString,t.routeString);if(r!==0)return r}{const r=Y(o=>K(o).numberOfParams)(e.routeString,t.routeString);if(r!==0)return r}return 0}async function zr(e){const t={};if(!e._onBeforeRouteHook)return null;const n=await Kr(e._onBeforeRouteHook,e);return n&&(h(t,n),b(t,"pageId","string")||b(t,"pageId","null"))?(b(t,"routeParams")?a(b(t,"routeParams","object")):h(t,{routeParams:{}}),h(t,{_routingProvidedByOnBeforeRouteHook:!0,_debugRouteMatches:"CUSTOM_ROUTING"}),t):(h(t,{_routingProvidedByOnBeforeRouteHook:!1}),t)}async function Kr(e,t){let n=e.hookFn(t);xt(n,`The onBeforeRoute() hook ${e.hookFilePath}`),n=await H(()=>n,e,t);const r=`The onBeforeRoute() hook defined by ${e.hookFilePath}`;if(m(n==null||En(n,["pageContext"])&&b(n,"pageContext"),`${r} should return ${p.cyan("null")}, ${p.cyan("undefined")}, or a plain JavaScript object ${p.cyan("{ pageContext: { /* ... */ } }")}`),n==null)return null;if(m(b(n,"pageContext","object"),`${r} returned ${p.cyan("{ pageContext }")} but pageContext should be a plain JavaScript object.`),b(n.pageContext,"pageId")&&!b(n.pageContext,"pageId","null")){const s=`${r} returned ${p.cyan("{ pageContext: { pageId } }")} but ${p.cyan("pageId")} should be`;m(b(n.pageContext,"pageId","string"),`${s} a string or null`),m(t._allPageIds.includes(n.pageContext.pageId),`${s} ${$n(t._allPageIds.map(l=>p.cyan(l)),"or")}`)}b(n.pageContext,"routeParams")&&Ot(n.pageContext,`${r} returned ${p.cyan("{ pageContext: { routeParams } }")} but routeParams should`);const o=s=>`${r} returned ${p.cyan(`{ pageContext: { ${s} } }`)} which is deprecated. Return ${p.cyan("{ pageContext: { urlLogical } }")} instead.`;b(n.pageContext,"url")&&(v(!1,o("url"),{onlyOnce:!0}),n.pageContext.urlLogical=n.pageContext.url,delete n.pageContext.url),b(n.pageContext,"urlOriginal")&&(v(!1,o("urlOriginal"),{onlyOnce:!0}),n.pageContext.urlLogical=n.pageContext.urlOriginal,delete n.pageContext.urlOriginal),b(n.pageContext,"urlLogical")&&sn(n.pageContext.urlLogical,`${r} returned ${p.cyan("{ pageContext: { urlLogical } }")} but ${p.cyan("urlLogical")}`),ht(n.pageContext,{hookFilePath:e.hookFilePath,hookName:"onBeforeRoute"});const i={};return h(i,n.pageContext),i}var M;function Ye(...e){var t;M||(M=(t=globalThis.__brillout_debug_createDebugger)==null?void 0:t.call(globalThis,"vike:routing")),M&&M(...e)}Z()&&G();async function It(e){Ye("Pages routes:",e._pageRoutes),vt(e);const t={},n=await zr(e);if(n){if(n._routingProvidedByOnBeforeRouteHook)return a(n.pageId),n;h(t,n)}h(e,n);const r=e._allPageIds;m(r.length>0,"No page found. You must create at least one page."),a(e._pageFilesAll.length>0||e._pageConfigs.length>0);const{urlPathname:o}=e;a(o.startsWith("/"));const i=[];await Promise.all(e._pageRoutes.map(async l=>{const{pageId:c,routeType:w}=l;if(l.routeType==="FILESYSTEM"){const{routeString:g}=l,f=ge(g,o);if(f){const{routeParams:_}=f;i.push({pageId:c,routeParams:_,routeString:g,routeType:w})}return}if(l.routeType==="STRING"){const{routeString:g}=l,f=ge(g,o);if(f){const{routeParams:_}=f;a(w==="STRING"),i.push({pageId:c,routeString:g,routeParams:_,routeType:w})}return}if(l.routeType==="FUNCTION"){const{routeFunction:g,routeDefinedAtString:f}=l,_=await Jn(g,e,f);if(_){const{routeParams:O,precedence:D}=_;i.push({pageId:c,precedence:D,routeParams:O,routeType:w})}return}a(!1)})),Vr(i);const s=i[0]??null;if(Ye(`Route matches for URL ${p.cyan(o)} (in precedence order):`,i),h(t,{_debugRouteMatches:i}),h(t,{_routeMatch:s}),!s)return h(t,{pageId:null,routeParams:{}}),t;{const{routeParams:l}=s;a(L(l)),h(t,{pageId:s.pageId,routeParams:s.routeParams})}return t}const At=B("client-routing-runtime/getPageContextCurrent.ts",{pageContextCurrent:null});function Ht(){const{pageContextCurrent:e}=At;return e}function qe(e){At.pageContextCurrent=e}const X=5e3,Je={staticAssets:"hover",pageContext:X},he={staticAssets:"hover",pageContext:!1},Mr=he;function ve(e,t){let n=Mr;if("prefetchLinks"in e.exports&&m(!1,"`export { prefetchLinks }` is deprecated, use `export { prefetchStaticAssets }` instead."),"prefetchStaticAssets"in e.exports){const r=e.exports.prefetchStaticAssets;n.staticAssets=r}if("prefetch"in e.exports){const{prefetch:r}=e.exports;r===!0&&(n=Je),r===!1&&(n=he),Object.assign(n,r),n.pageContext===!0&&(n.pageContext=X)}if(n.staticAssets,t){{let r=t.getAttribute("data-prefetch");r!==null&&(r===""&&(r="true"),r==="true"&&(n=Je),r==="false"&&(n=he))}{let r=t.getAttribute("data-prefetch-static-assets");r!==null&&(r==="false"&&(n.staticAssets=!1),n.staticAssets=r)}{let r=t.getAttribute("data-prefetch-page-context");if(r!==null){r===""&&(r="true"),r==="true"&&(n.pageContext=X),r==="false"&&(n.pageContext=!1);const o=parseInt(r,10);Number.isNaN(o)||(n.pageContext=o)}}}return n}G();const F=B("client-routing-runtime/prefetch.ts",{linkPrefetchHandlerAdded:new WeakSet,addLinkPrefetchHandlers_debounce:null,mutationObserver:new MutationObserver(_e),linkTags:document.getElementsByTagName("A"),prefetchedPageContexts:{}});function Yr(e){if(!ve(e,null).pageContext)return null;const n=xe(e.urlPathname),r=F.prefetchedPageContexts[n];return!r||r.result.is404ServerSideRouted||Nt(r)?null:r.result.pageContextFromServerHooks}async function qr(e){try{await ue(e.pageId,e._pageFilesAll,e._pageConfigs,e._pageConfigGlobal)}catch(t){if(be(t))me(t,!0);else throw t}}async function Jr(e,t){const n=await ce(e,!1);Lt(e,n,t)}function Xe(e,t){Oe()&&Lt(e,t,null)}function Lt(e,t,n){n===null&&(n=Xr());const r=xe(e.urlPathname);a(Oe()),F.prefetchedPageContexts[r]={resultFetchedAt:Date.now(),resultMaxAge:n,result:t}}function Xr(){const e=Ht();if(!e)return 1/0;const t=ve(e,null);return typeof t.pageContext=="number"?t.pageContext:X}function _e(){F.addLinkPrefetchHandlers_debounce&&clearTimeout(F.addLinkPrefetchHandlers_debounce),F.addLinkPrefetchHandlers_debounce=setTimeout(()=>{"requestIdleCallback"in window?requestIdleCallback(Qe,{timeout:300}):setTimeout(Qe,150)},250)}function Qr(){_e()}function Zr(){F.mutationObserver.observe(document.body,{childList:!0,subtree:!0})}function eo(){F.mutationObserver.disconnect()}function Qe(){for(let e of F.linkTags){if(F.linkPrefetchHandlerAdded.has(e)||(F.linkPrefetchHandlerAdded.add(e),Ce(e)))continue;e.addEventListener("mouseover",()=>{le(e,"hover")},{passive:!0}),e.addEventListener("touchstart",()=>{le(e,"hover")},{passive:!0}),new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting&&le(e,"viewport")})}).observe(e)}}async function le(e,t){let n;const r=Ht();if(r)n=ve(r,e);else if(Oe())n={staticAssets:"hover",pageContext:1/0};else return;if(Ce(e))return;const o=e.getAttribute("href"),i=await to(o);i!=null&&i.pageId&&(a(b(i,"pageId","string")),await fe(i.pageId,i)&&await Promise.all([(async()=>{n.staticAssets===t&&await qr(i)})(),(async()=>{if(t!=="viewport"&&n.pageContext){const s=xe(o),l=F.prefetchedPageContexts[s];if(!l||Nt(l)){const c=n.pageContext;await Jr(i,c)}}})()]))}function Nt(e){return Date.now()-e.resultFetchedAt>e.resultMaxAge}async function to(e){const t=await Et(e);let n;try{n=await It(t)}catch{return null}return h(t,n),t}function xe(e){return e.startsWith("#")&&(e="/"),a(e.startsWith("/"),{urlPathname:e}),e.split("#")[0]}function Oe(){return"_isBrilloutDocpress"in window}Dt();const pe=B("client-routing-runtime/history.ts",{previous:$e()});function jt(){const e=Bt();if(j(e))return;const t=no(e);Ee(t)}function no(e){const t=Te(),n=Fe(),r="browser";let o;return e?o={timestamp:e.timestamp??t,scrollPosition:e.scrollPosition??n,triggeredBy:e.triggeredBy??r,_isVikeEnhanced:!0}:o={timestamp:t,scrollPosition:n,triggeredBy:r,_isVikeEnhanced:!0},a(j(o)),o}function ke(){const e=Bt();return a(j(e),{state:e}),e}function Bt(){return window.history.state}function Fe(){return{x:window.scrollX,y:window.scrollY}}function Te(){return new Date().getTime()}function Ze(){const e=Fe(),t=ke();Ee({...t,scrollPosition:e})}function ro(e,t){if(t)Ee(ke(),e);else{const n={timestamp:Te(),scrollPosition:null,triggeredBy:"vike",_isVikeEnhanced:!0};window.history.pushState(n,"",e)}}function Ee(e,t){const n=t??null;window.history.replaceState(e,"",n)}function et(e,t){History.prototype.replaceState.bind(window.history)(e,"",t)}function oo(){["pushState","replaceState"].forEach(e=>{const t=window.history[e].bind(window.history);window.history[e]=(n={},...r)=>{m(n==null||E(n),`history.${e}(state) argument state must be an object`);const o=j(n)?n:{_isVikeEnhanced:!0,scrollPosition:Fe(),timestamp:Te(),triggeredBy:"user",...n};a(j(o));const i=t(o,...r);return pe.previous=$e(),i}})}function j(e){return!!(E(e)&&"_isVikeEnhanced"in e)}function $e(){return{url:we(),state:ke()}}function io(){const{previous:e}=pe,t=window.history.state!==null;t||jt(),a(j(window.history.state));const n=$e();return pe.previous=n,{isHistoryStateEnhanced:t,previous:e,current:n}}function Dt(){jt()}function Wt(e,t){if(!e&&t&&ao(t)){so(t);return}if(e&&"x"in e){Vt(e);return}if(e!=null&&e.preserveScroll)return;const n=lo();Ut(n)}function so(e){const t=window.history.state;et(null,e),a(window.history.state===null),window.location.replace(e),et(t,e)}function ao(e){return e.includes("#")&&e.includes(":~:text")}function Ut(e){if(!e)tt();else{const t=decodeURIComponent(e),n=document.getElementById(t)||document.getElementsByName(t)[0];n?(n.scrollIntoView(),n.focus()):e==="top"&&tt()}}function tt(){Vt({x:0,y:0})}function Vt(e){const t=()=>{window.scrollTo(e.x,e.y)},n=()=>window.scrollX===e.x&&window.scrollY===e.y;n()||(t(),!n()&&requestAnimationFrame(()=>{t(),!n()&&setTimeout(async()=>{if(t(),n())return;const r=new Date().getTime();for(;;)if(await gn(10),t(),n()||new Date().getTime()-r>100)return},0)}))}function lo(){let{hash:e}=window.location;return e===""?null:(a(e.startsWith("#")),e=e.slice(1),e)}function uo(){window.addEventListener("scroll",hn(Ze,Math.ceil(1e3/3)),{passive:!0}),dt(Ze)}const Gt=B("client-routing-runtime/scrollRestoration.ts",{});function co(){nt(),dt(nt),pn(()=>Gt.initialRenderIsDone&&zt())}function fo(){Gt.initialRenderIsDone=!0,zt()}function zt(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")}function nt(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto")}const C=B("client-routing-runtime/renderPageClientSide.ts",(()=>{const{promise:e,resolve:t}=mn();return{previousPageContext:null,renderCounter:0,firstRenderStartPromise:e,firstRenderStartPromiseResolve:t}})()),{firstRenderStartPromise:To}=C;async function V(e){gt("renderPageClientSide()");const{urlOriginal:t=we(),overwriteLastHistoryEntry:n=!1,isBackwardNavigation:r,pageContextsFromRewrite:o=[],redirectCount:i=0,doNotRenderIfSamePage:s,isClientSideNavigation:l=!0,pageContextInitClient:c}=e;let{scrollTarget:w}=e;const{previousPageContext:g}=C;eo();const{isRenderOutdated:f,setHydrationCanBeAborted:_,isFirstRender:O}=po();if(Bn(o.length,i),C.clientRoutingIsDisabled){$(t);return}if(C.firstRenderStartPromiseResolve(),f())return;await D();return;async function D(){const P=async u=>{await Ae({err:u})},d=await Ie(!1);if(!f()){if(C.isFirstRenderDone&&(a(g),re(g,"onPageTransitionStart"),!C.isTransitioning)){C.isTransitioning=!0;const u=W(g,"onPageTransitionStart");if(u){const R=u,{hookFn:x}=R;try{await H(()=>x(d),R,d)}catch(y){await P(y);return}if(f())return}}if(O){const u=Wn();a(!("urlOriginal"in u)),h(d,u),Xe(d,{pageContextFromServerHooks:u})}else{let u;try{u=await It(d)}catch(y){await P(y);return}if(f())return;if(!u.pageId){$(t);return}a(b(u,"pageId","string"));const R=await fe(u.pageId,d);if(f())return;if(!R){$(t);return}const x=u.pageId&&(g==null?void 0:g.pageId)&&u.pageId===g.pageId;if(s&&x)return;a(!("urlOriginal"in u)),h(d,u)}try{h(d,await ue(d.pageId,d._pageFilesAll,d._pageConfigs,d._pageConfigGlobal))}catch(u){if(rt(u,d,O))return;await P(u);return}if(!f()&&(qe(d),d.exports.hydrationCanBeAborted?_():v(!dn(),"You seem to be using React; we recommend setting hydrationCanBeAborted to true, see https://vike.dev/hydrationCanBeAborted",{onlyOnce:!0}),!f()))if(O){a(b(d,"_hasPageContextFromServer","true"));let u;try{u=await Un(d)}catch(R){await P(R);return}if(f())return;oe(d,u),await te(d)}else{let u;const R=Yr(d);if(R)u=R;else try{const y=await ce(d,!1);if(y.is404ServerSideRouted)return;u=y.pageContextFromServerHooks,Xe(d,y)}catch(y){await P(y);return}if(f())return;a(!("urlOriginal"in u)),h(d,u);let x;try{x=await De(d,!1)}catch(y){await P(y);return}if(f())return;oe(d,x),await te(d)}}}async function Ie(P){const d=await Et(t);h(d,{isBackwardNavigation:r,isClientSideNavigation:l,isHydration:O&&!P,previousPageContext:g,...c}),Object.defineProperty(d,"_previousPageContext",{get(){return v(!1,"pageContext._previousPageContext has been renamed pageContext.previousPageContext",{showStackTrace:!0,onlyOnce:!0}),g},enumerable:!1});{const u=Nn(o);a(!("urlOriginal"in u)),h(d,u)}return d}async function Ae(P){const d=S=>{He(S,P.err)||console.error(S)};if("err"in P){const{err:S}=P;a(S),Be(S)||console.error(S)}const u=await Ie(!0);if(f())return;if(P.is404&&h(u,{is404:!0}),P.pageContextError&&h(u,P.pageContextError),"err"in P){const{err:S}=P;if(a(!("errorWhileRendering"in u)),u.errorWhileRendering=S,Be(S)){const T=S._pageContextAbort;if(T._urlRewrite){await V({...e,scrollTarget:void 0,pageContextsFromRewrite:[...o,T]});return}if(T._urlRedirect){const ne=T._urlRedirect.url;if(ne.startsWith("/"))await V({...e,scrollTarget:void 0,urlOriginal:ne,overwriteLastHistoryEntry:!1,isBackwardNavigation:!1,redirectCount:i+1});else{$(ne);return}return}a(T.abortStatusCode),a(!("urlOriginal"in T)),h(u,T),T.abortStatusCode===404&&h(u,{is404:!0})}else h(u,{is404:!1})}const R=un(u._pageFilesAll,u._pageConfigs);if(!R)throw new Error("No error page defined.");h(u,{pageId:R});const x=await fe(u.pageId,u);if(f())return;if(!x){$(t);return}try{h(u,await ue(u.pageId,u._pageFilesAll,u._pageConfigs,u._pageConfigGlobal))}catch(S){if(rt(S,u,O))return;d(S);return}if(f())return;qe(u);let y;try{const S=await ce(u,!0);if(S.is404ServerSideRouted)return;y=S.pageContextFromServerHooks}catch(S){d(S);return}if(f())return;a(!("urlOriginal"in y)),h(u,y);let k;try{k=await De(u,!0)}catch(S){d(S);return}f()||(oe(u,k),h(u,{routeParams:{}}),await te(u,P))}async function te(P,d){const u=async y=>{d?He(y,d.err)||console.error(y):await Ae({err:y})};if(C.onRenderClientPreviousPromise&&(await C.onRenderClientPreviousPromise,a(C.onRenderClientPreviousPromise===void 0),f()))return;ho(t,n),C.previousPageContext=P,a(C.onRenderClientPreviousPromise===void 0);const R=(async()=>{let y;try{await ln(P,!0)}catch(k){y=k}return C.onRenderClientPreviousPromise=void 0,C.isFirstRenderDone=!0,y})();C.onRenderClientPreviousPromise=R;const x=await R;if(a(C.onRenderClientPreviousPromise===void 0),!(x&&(await u(x),!d))){if(O&&!x){re(P,"onHydrationEnd");const y=W(P,"onHydrationEnd");if(y){const{hookFn:k}=y;try{await H(()=>k(P),y,P)}catch(S){if(await u(S),!d)return}if(f(!0))return}}if(!f(!0)){if(C.isTransitioning){C.isTransitioning=void 0,a(g),re(g,"onPageTransitionEnd");const y=W(g,"onPageTransitionEnd");if(y){const{hookFn:k}=y;try{await H(()=>k(P),y,P)}catch(S){if(await u(S),!d)return}if(f(!0))return}}if(!w&&g){const y=ot(g),k=ot(P);k!==!1&&y!==!1&&yo(k,y)&&(w={preserveScroll:!0})}Wt(w,t),fo(),P._hasPageContextFromServer&&Vn(P),Zr(),_e(),go(t)}}}}function go(e){window._vike??(window._vike={}),window._vike.fullyRenderedUrl=e}function ho(e,t){we()!==e&&ro(e,t)}function rt(e,t,n){if(!be(e))return!1;if(n)throw me(e,!1),e;return me(e,!0),$(t.urlOriginal),!0}function me(e,t){a(be(e)),C.clientRoutingIsDisabled=!0,t&&console.log(e),an(!1,["Failed to fetch static asset.","This usually happens when a new frontend is deployed.","Falling back to Server Routing.","(The next page navigation will use Server Routing instead of Client Routing.)"].filter(Boolean).join(" "),{onlyOnce:!0})}function po(){const e=++C.renderCounter;a(e>=1);let t=!1;return{isRenderOutdated:o=>e===1&&!t&&!o?!1:e!==C.renderCounter,setHydrationCanBeAborted:()=>{t=!0},isFirstRender:e===1}}function mo(){return C.renderCounter}function ot(e){const t=e.from.configsStandard.keepScrollPosition;if(!t)return!1;let n=t.value;const r=t.definedAt;a(r);const o=Wr(r);return Q(n)&&(n=n(e,{configDefinedAt:t.definedAt})),n===!0?[r,...o.map(i=>{const s=e.routeParams[i];return a(s),s})]:n}function yo(e,t){return e===t?!0:!Array.isArray(e)||!Array.isArray(t)?!1:e.length===t.length&&e.every((n,r)=>e[r]===t[r])}function Po(){window.addEventListener("popstate",bo)}async function bo(){gt("onPopState()");const{isHistoryStateEnhanced:e,previous:t,current:n}=io();if(e)await wo(t,n);else return}async function wo(e,t){const n=t.state.scrollPosition||void 0;if(it(t.url)===it(e.url)&&t.url!==e.url){Wt(n);return}const i=t.state.triggeredBy==="user"||e.state.triggeredBy==="user",s=!t.state.timestamp||!e.state.timestamp?null:t.state.timestamp<e.state.timestamp;await V({scrollTarget:n,isBackwardNavigation:s,doNotRenderIfSamePage:i})}function it(e){return e.split("#")[0]}function So(){document.addEventListener("click",Co)}async function Co(e){if(!Ro(e))return;const t=vo(e.target);if(!t)return;const n=t.getAttribute("href");if(n===null)return;if(n.includes("#")&&Tr(n)){e.preventDefault(),Ut(n.split("#")[1]);return}if(Ce(t))return;e.preventDefault();let r;{const o=t.getAttribute("keep-scroll-position");o!==null&&(r={preserveScroll:o!=="false"})}await V({scrollTarget:r,urlOriginal:n,isBackwardNavigation:!1})}function Ro(e){return e.button===0&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey}function vo(e){for(;e.tagName!=="A";){const{parentNode:t}=e;if(!t)return null;e=t}return e}async function _o(){Oo();const e=xo();So(),Qr(),await e}async function xo(){a(mo()===0),await V({scrollTarget:{preserveScroll:!0},isBackwardNavigation:null,isClientSideNavigation:!1})}function Oo(){co(),oo(),Dt(),uo(),Po()}G();cn();_o();
